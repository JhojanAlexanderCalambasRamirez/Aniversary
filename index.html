<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Nuestro Aniversario</title>
    <link rel="stylesheet" href="css/styles.css">
    <style>
        /* Estilo inline para asegurar que la pantalla negra aparezca inmediatamente */
        .fade-overlay-inline {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background-color: #000000;
            z-index: 99999;
            pointer-events: none;
        }
    </style>
</head>
<body>
    <!-- Capa de desvanecimiento inicial -->
    <div class="fade-overlay fade-overlay-inline" id="fadeOverlay"></div>

    <!-- Audio de fondo -->
    <audio id="backgroundMusic" loop autoplay>
        <source src="musica/Musica.mp3" type="audio/mpeg">
    </audio>

    <!-- Control de mÃºsica -->
    <button id="musicToggle" class="music-control" aria-label="Control de mÃºsica">
        <span class="music-icon">ğŸµ</span>
    </button>

    <!-- Encabezado -->
    <header class="header">
        <h1 class="main-title"><span class="flag">ğŸ‡ºğŸ‡¸</span> Nuestro Aniversario <span class="flag">ğŸ‡¨ğŸ‡´</span></h1>
        <p class="subtitle"><!-- AquÃ­ puedes agregar un subtÃ­tulo si deseas --></p>
    </header>

    <!-- GalerÃ­a estilo museo -->
    <main class="gallery-container">
        <div class="gallery-grid" id="galleryGrid">
            <!-- Las fotos se generarÃ¡n dinÃ¡micamente con JavaScript -->
        </div>
    </main>

    <!-- Modal para mostrar foto y texto -->
    <div id="photoModal" class="modal">
        <div class="modal-content">
            <button class="modal-close" id="modalClose">&times;</button>
            <div class="modal-body">
                <div class="modal-image-container">
                    <img id="modalImage" src="" alt="Foto seleccionada">
                </div>
                <div class="modal-text-container">
                    <h2 id="modalTitle"><!-- TÃ­tulo de la foto --></h2>
                    <p id="modalText"><!-- Texto descriptivo de la foto --></p>
                </div>
            </div>
            <div class="modal-navigation">
                <button id="prevPhoto" class="nav-btn">â† Anterior</button>
                <span id="photoCounter" class="photo-counter"></span>
                <button id="nextPhoto" class="nav-btn">Siguiente â†’</button>
            </div>
        </div>
    </div>

    <!-- Scripts -->
    <script src="js/photo-texts.js"></script>
    <script src="js/gallery.js"></script>

    <!-- Script para forzar reproducciÃ³n y fade -->
    <script>
        // Iniciar el fade inmediatamente
        document.addEventListener('DOMContentLoaded', function() {
            const fadeOverlay = document.getElementById('fadeOverlay');

            // Iniciar el fade despuÃ©s de un pequeÃ±o delay para asegurar que todo estÃ© cargado
            setTimeout(function() {
                fadeOverlay.style.transition = 'opacity 7s ease-in-out';
                fadeOverlay.style.opacity = '0';

                // Remover el overlay despuÃ©s de la animaciÃ³n
                setTimeout(function() {
                    fadeOverlay.style.visibility = 'hidden';
                }, 7000);
            }, 100);
        });

        // Intentar reproducir inmediatamente cuando se carga el script
        window.addEventListener('load', function() {
            const audio = document.getElementById('backgroundMusic');
            audio.volume = 0.7;

            // Intentar reproducir
            const playAttempt = audio.play();

            if (playAttempt !== undefined) {
                playAttempt.catch(error => {
                    console.log('Autoplay bloqueado, esperando interacciÃ³n del usuario');
                });
            }
        });
    </script>
</body>
</html>
